(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(47)},47:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(13),i=a.n(l),r=(a(29),a(15)),s=a(8),c=a(9),p=a(10),d=a(11),u=a(12),m=a.n(u),h=a(59),v=a(60),g=a(61),f=a(62),E=a(54),O=a(55),b=a(56),y=a(49),w=a(57),k=a(58),S=a(17),P=a(48),C=a(50),j=a(51),T=a(63),N=a(52),V=a(53),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={name:"",selectedOption:"",errors:{}},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.validation(),n=a.errors;a.isValid?(e.props.getOpinion({pollId:e.props.poll.id,name:e.state.name,selectedOption:e.state.selectedOption}),t.target.reset(),e.setState({name:"",selectedOption:"",errors:{}})):e.setState({errors:n})},e.validation=function(){var t={},a=e.state,n=a.name,o=a.selectedOption;return n?n.length>20&&(t.name="Name Too Long"):t.name="Please Provide A Name",o||(t.selectedOption="Please Select One Option"),{errors:t,isValid:0===Object.keys(t).length}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(P.a,{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"d-flex"},o.a.createElement("h4",null,"Option"),o.a.createElement(y.a,{color:"warning",className:"ml-auto",onClick:this.props.toggleModal},"Edit"),o.a.createElement(y.a,{color:"danger",type:"submit",className:"ml-2",onClick:function(){return e.props.deletePoll(e.props.poll.id)}},"Delete")),this.props.poll.options.map((function(t){return o.a.createElement(C.a,{className:"my-2",key:t.id},o.a.createElement(j.a,{className:"d-flex"},o.a.createElement(T.a,{type:"radio",id:t.id,name:"selectedOption",value:t.id,onChange:e.handleChange,invalid:!!e.state.errors.selectedOption})," ",t.value,o.a.createElement("span",{style:{padding:"5px 20px",background:"green",color:"white",borderRadius:"5px"},className:"ml-auto"},t.vote),o.a.createElement("span",{style:{padding:"5px 20px",background:"orange",color:"white",borderRadius:"5px"},className:"ml-2"},e.props.poll.totalVote>0?(100*t.vote/e.props.poll.totalVote).toFixed(2):0,"%")))})),o.a.createElement(C.a,{className:"my-3"},o.a.createElement(j.a,null,"Enter Name"),o.a.createElement(N.a,{value:this.state.name,placeholder:"Shuva Dev",onChange:this.handleChange,name:"name",invalid:!!this.state.errors.name}),this.state.errors.name&&o.a.createElement(V.a,null,this.state.errors.name)),o.a.createElement(y.a,{type:"submit",color:"secondary"},"Submit Your Opinion"))}}]),a}(o.a.Component),x=function(e){var t=e.title,a=e.description,n=e.options,l=e.errors,i=e.buttonValue,r=e.handleChange,s=e.handleOptionChange,c=e.createOption,p=e.deleteOption,d=e.handleSubmit;return o.a.createElement(P.a,{onSubmit:d},o.a.createElement(C.a,null,o.a.createElement(j.a,{for:"title"},"Title"),o.a.createElement(N.a,{name:"title",id:"title",placeholder:"A Dummy Title",value:t,onChange:r,invalid:!!l.title}),l.title&&o.a.createElement(V.a,null,l.title)),o.a.createElement(C.a,null,o.a.createElement(j.a,{for:"description"},"Description"),o.a.createElement(N.a,{name:"description",id:"description",placeholder:"Describe your pool",value:a,onChange:r,invalid:!!l.description}),l.description&&o.a.createElement(V.a,null,l.description)),o.a.createElement(C.a,null,o.a.createElement(j.a,null,"Enter Option",o.a.createElement("span",{style:{marginLeft:"30px",background:"green",color:"white",padding:"5px",borderRadius:"5px",cursor:"pointer"},onClick:c},"Add Option")),n.map((function(e,t){return o.a.createElement("div",{className:"d-flex mb-2"},o.a.createElement(N.a,{value:e.value,onChange:function(e){return s(e,t)},invalid:!(!l.options||!l.options[t])}),l.options&&l.options[t]&&o.a.createElement(V.a,null,l.options[t]),o.a.createElement(y.a,{color:"danger",className:"ml-2",disabled:n.length<=2,onClick:function(){return p(t)}},"Delete"))}))),o.a.createElement(y.a,{color:"primary",type:"submit"},i))},A=[{id:m.a.generate(),value:"",vote:0},{id:m.a.generate(),value:"",vote:0}],D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={title:e.props.isUpdate?e.props.poll.title:"",description:e.props.isUpdate?e.props.poll.description:"",options:e.props.isUpdate?e.props.poll.options:A,errors:[]},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleOption=function(t,a){var n=Object(r.a)(e.state.options);n[a].value=t.target.value,e.setState({options:n})},e.createOption=function(){var t=e.state.options;t.length<5?(t.push({id:m.a.generate(),value:"",vote:0}),e.setState({options:t})):alert("You can create max 5 options!")},e.deleteOption=function(t){var a=e.state.options;a.length>2?e.props.isUpdate&&a[t].value?(e.props.decreamentTotalVote(e.props.poll.id,a[t].vote),a.splice(t,1),e.setState({options:a})):(a.splice(t,1),e.setState({options:a})):alert("You must have at least two options")},e.handleSubmit=function(t){t.preventDefault();var a=e.validate(),n=a.isValid,o=a.errors;if(n){var l=e.state,i={title:l.title,description:l.description,options:l.options};e.props.isUpdate?(i.id=e.props.poll.id,e.props.submit(i),alert("Updated Successfully!")):(e.props.submit({poll:i}),t.target.reset(),e.setState({title:"",description:"",options:A,errors:{}}))}else e.setState({errors:o})},e.validate=function(){var t={},a=e.state,n=a.title,o=a.description,l=a.options;n?n.length<20?t.title="Title Too Short":n.length>100&&(t.title="Title Too Long"):t.title="Please Provide A Title",o?o.length>500&&(t.title="Description Too Long"):t.description="Please Provide A Description";var i=[];return l.forEach((function(e,t){e.value?e.value>100&&(i[t]="Option Text Too Long"):i[t]="Option Text Empty"})),i.length>0&&(t.options=i),{errors:t,isValid:0===Object.keys(t).length}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,n=e.options,l=e.errors;return o.a.createElement(x,{title:t,description:a,options:n,errors:l,buttonValue:this.props.buttonValue||"Create Poll",handleChange:this.handleChange,handleOptionChange:this.handleOption,createOption:this.createOption,deleteOption:this.deleteOption,handleSubmit:this.handleSubmit})}}]),a}(o.a.Component),U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={openModal:!1,viewOpinion:"all"},e.toggleModal=function(){e.setState({openModal:!e.state.openModal})},e.viewOpinion=function(){if("all"===e.state.viewOpinion)return e.props.poll.opinions;var t=e.props.poll.options,a=null;return t.forEach((function(t){if(t.value===e.state.viewOpinion){var n=t.id;if(a=e.props.poll.opinions.filter((function(e){return e.selectedOption===n})))return}})),a},e.changeViewOpinion=function(t){e.setState({viewOpinion:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(0===Object.keys(this.props.poll).length)return o.a.createElement("div",null,o.a.createElement("h3",null,"Welcome to My Application."),o.a.createElement("p",null,"You can create as many poll as you want. Click the new button to create a new pool. To check details of a poll please select from the left sidebar. By selecting a poll you can check it's details, participate and check other opinion about this polls.  "));var t=this.props,a=t.poll,n=t.getOpinion,l=t.updatePoll,i=t.deletePoll,r=t.decreamentTotalVote;return o.a.createElement("div",null,o.a.createElement("h3",null,a.title),o.a.createElement("p",null,a.description),o.a.createElement("br",null),o.a.createElement(M,{poll:a,getOpinion:n,deletePoll:i,toggleModal:this.toggleModal}),o.a.createElement(f.a,{isOpen:this.state.openModal,toggle:this.toggleModal},o.a.createElement(E.a,{toggle:this.toggleModal},"Update Modal"),o.a.createElement(O.a,null,o.a.createElement(D,{poll:a,isUpdate:!0,submit:l,buttonValue:"Update Poll",decreamentTotalVote:r}))),o.a.createElement("div",{className:"mt-4"},o.a.createElement("div",{className:"d-flex"},o.a.createElement("h3",null,"Opinions"),o.a.createElement(b.a,{className:"ml-auto"},o.a.createElement(y.a,{color:"primary",active:"all"===this.state.viewOpinion,onClick:function(){return e.changeViewOpinion("all")}},"All"),a.options.map((function(t){return o.a.createElement(y.a,{color:"primary",active:e.state.viewOpinion===t.value,onClick:function(){return e.changeViewOpinion(t.value)}},t.value)})))),o.a.createElement(w.a,{className:"mt-3"},this.viewOpinion().length?this.viewOpinion().map((function(e){return o.a.createElement(k.a,{key:e.id},e.name)})):o.a.createElement("h5",{className:"mt-4 text-danger"},"No Opinion Found"))))}}]),a}(o.a.Component),L=function(e){return 0===e.polls.length?o.a.createElement("p",null,"There are no polls."):o.a.createElement(w.a,null,e.polls.map((function(t){return o.a.createElement(k.a,{key:t.id,style:{cursor:"pointer"},onClick:function(){return e.selectPoll(t.id)}},t.title.length>30?t.title.substr(0,30)+"...":t.title)})))},I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={openModal:!1},e.toggleModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{background:"#efefef",padding:"10px"}},o.a.createElement("div",{className:"d-flex mb-5"},o.a.createElement(N.a,{type:"search",placeholder:"Search",value:this.props.searchTerm,onChange:function(t){return e.props.handleSearch(t.target.value)}}),o.a.createElement(y.a,{color:"success",onClick:this.toggleModal,className:"ml-2"},"New")),o.a.createElement("h3",null,"List of polls"),o.a.createElement("hr",null),o.a.createElement(L,{polls:this.props.polls,selectPoll:this.props.selectPoll}),o.a.createElement(f.a,{toggle:this.toggleModal,isOpen:this.state.openModal},o.a.createElement(E.a,{toggle:this.toggleModal},"Create A New Poll"),o.a.createElement(O.a,null,o.a.createElement(D,{submit:this.props.submit,toggleModal:this.toggleModal}))))}}]),a}(o.a.Component),W=[{id:"3948jd",title:"What is your favourite programming language?",description:"There are lot of programming language. Among them what is your favourite?",options:[{id:"1df3",value:"Javascript",vote:0},{id:"f6f6",value:"PHP",vote:0},{id:"4ff3",value:"C",vote:0},{id:"3df3",value:"Pyton",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"464ajk",title:"Which fronted framework do you refer?",description:"Javascript has a vast variety of fronted libaries and framework. Each and every day we have a new one. Among them which frontend framework you like and prefer others?",options:[{id:"4jfc",value:"Angular",vote:0},{id:"jd4o",value:"React",vote:0},{id:"d023",value:"Vue",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"0348kA",title:"Which is the best way to create android app?",description:"I want create an android application but I donot understand which technology will be better. There are lot of technologies available and my application is not so bulky. I need easy and simple solution. Please share your opinion.",options:[{id:"2jk3",value:"Java",vote:0},{id:"58m6",value:"Kotlin",vote:0},{id:"9053",value:"React Native",vote:0},{id:"k0s3",value:"Flutter",vote:0},{id:"03o3",value:"Ionic",vote:0}],created:new Date,totalVote:0,opinions:[]}],J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={polls:[],selectedPoll:{},searchTerm:""},e.addNewPoll=function(t){t.id=m.a.generate(),t.created=new Date,t.totalVote=0,t.opinions=[],e.setState({polls:e.state.polls.concat(t)})},e.updatePoll=function(t){var a=Object(r.a)(e.state.polls),n=a.find((function(e){return e.id===t.id}));n.title=t.title,n.description=t.description,n.options=t.options,e.setState({polls:a})},e.deletePoll=function(t){var a=e.state.polls.filter((function(e){return e.id!==t}));e.setState({polls:a,selectedPoll:{}})},e.selectPoll=function(t){var a=e.state.polls.find((function(e){return e.id===t}));e.setState({selectedPoll:a})},e.handleSearch=function(t){e.setState({searchTerm:t})},e.performSearch=function(){return e.state.polls.filter((function(t){return t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())}))},e.getOpinion=function(t){var a=e.state.polls,n=a.find((function(e){return e.id===t.pollId})),o=n.options.find((function(e){return e.id===t.selectedOption}));n.totalVote++,o.vote++;var l={id:m.a.generate(),name:t.name,selectedOption:t.selectedOption};n.opinions.push(l),e.setState({polls:a})},e.decreamentTotalVote=function(t,a){var n=Object(r.a)(e.state.polls);n.find((function(e){return e.id===t})).totalVote-=a,e.setState(n)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({polls:W})}},{key:"render",value:function(){return o.a.createElement(h.a,{className:"my-5"},o.a.createElement(v.a,null,o.a.createElement(g.a,{md:4},o.a.createElement(I,{polls:this.performSearch(),selectPoll:this.selectPoll,searchTerm:this.state.searchTerm,handleSearch:this.handleSearch,submit:this.addNewPoll})),o.a.createElement(g.a,{md:8},o.a.createElement(U,{poll:this.state.selectedPoll,getOpinion:this.getOpinion,updatePoll:this.updatePoll,deletePoll:this.deletePoll,decreamentTotalVote:this.decreamentTotalVote}))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.530fed34.chunk.js.map